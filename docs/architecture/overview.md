# Architectural overview

The wXTZ Platform consists of three main smart-contracts: 
- `wXTZ Core`
  - Central to the wXTZ Platform
  - Amendable logic through lambdas
  - Offers logic hooks to contracts like wXTZ Oven
- `wXTZ Oven`
  - Once originated, not amendable
  - Originated by the wXTZ Core
  - Amendable source code within wXTZ Core - before origination,
  - Holds locked XTZ
- `wXTZ Token`
  - Follows the TZIP-7 standard
  <!-- // TODO: add a link -->
  - Follows the Bridge protocol by Serokell
  - Holds the ledger for the wXTZ Token


There are three main actors in the system:
- `Alice` a.k.a. wXTZ Oven owner (there are _n_ ovens where each oven always has only 1 owner)
  - Can freely interact with the wXTZ Token
  - Can create new ovens from the wXTZ Core
- `Delegate` a.k.a. Baker
  - Pays out rewards to the wXTZ Oven owned by Alice
- `Admin` a.k.a. Staker Council
  - Can amend the wXTZ Core lambdas
- `Pause guardian`
  - Can pause operations on the wXTZ Token contract



### Smart-contract interaction overview

[![](https://mermaid.ink/img/eyJjb2RlIjoiZ3JhcGggTFJcblxuICAgICUlIEFsaWNlIGNyZWF0ZXMgYW4gb3ZlblxuICAgIEFMSUNFW0FsaWNlXSA9PT4gfFwiJWNyZWF0ZU92ZW5cInwgQ09SRXt7d1hUWiBDb3JlfX1cbiAgICBDT1JFW3dYVFogQ29yZV0gLS4tPiB8XCJvcmlnaW5hdGVcIiB8IE9WRU5bQWxpY2UncyB3WFRaIE92ZW5dXG4gICAgQ09SRVt3WFRaIENvcmVdIC0uLi4tPiB8XCIlbWludFwifCBUWklQN1tcIndYVFogVFpJUC03IDxici8-ICh0b2tlbiBjb250cmFjdClcIl1cblxuICAgICUlIERlbGVnYXRpb24gcmV3YXJkcyBwYXlvdXRcbiAgICBERUxFR0FURVtEZWxlZ2F0ZV0gPT09PT4gfFwiJWRlZmF1bHRcInwgT1ZFTltBbGljZSdzIHdYVFogT3Zlbl1cbiAgICBPVkVOW0FsaWNlJ3Mgd1hUWiBPdmVuXSAtLi4tPiB8XCIlb25PdmVuRGVwb3NpdFJlY2VpdmVkIDxici8-XCJ8IENPUkVbd1hUWiBDb3JlXVxuICAgICUlIENPUkVbd1hUWiBDb3JlXSAtLi4uLT4gfFwiJW1pbnRcInwgVFpJUDdbXCJ3WFRaIFRaSVAtNyA8YnIvPiAodG9rZW4gY29udHJhY3QpXCJdXG4gICAgQ09SRVt3WFRaIENvcmVdIC0uLT4gfFwiJWRlZmF1bHRcInwgT1ZFTltBbGljZSdzIHdYVFogT3Zlbl1cblxuICAgICUlIEFsaWNlIHdpdGhkcmF3cyBmcm9tIGFuIG92ZW5cbiAgICBBTElDRVtBbGljZV0gPT0-IHxcIiV3aXRoZHJhd1wifCBPVkVOW0FsaWNlJ3Mgd1hUWiBPdmVuXVxuICAgIE9WRU5bQWxpY2UncyB3WFRaIE92ZW5dIC0uLi0-IHxcIiVvbk92ZW5XaXRoZHJhd2FsUmVxdWVzdGVkIDxici8-XCJ8IENPUkVbd1hUWiBDb3JlXVxuICAgIENPUkVbd1hUWiBDb3JlXSAtLi4uLT4gfFwiJWJ1cm5cInwgVFpJUDdbXCJ3WFRaIFRaSVAtNyA8YnIvPiAodG9rZW4gY29udHJhY3QpXCJdXG4gICAgT1ZFTltBbGljZSdzIHdYVFogT3Zlbl0gLS4tPiB8XCIlZGVmYXVsdFwifCBBTElDRVtBbGljZV1cblxuICAgICUlIEFsaWNlIHVwZGF0ZXMgdGhlIG92ZW4gZGVsZWdhdGVcbiAgICBBTElDRVtBbGljZV0gPT0-IHxcIiVzZXREZWxlZ2F0ZShkZWxlZ2F0ZSlcInwgT1ZFTltBbGljZSdzIHdYVFogT3Zlbl1cbiAgICBPVkVOW0FsaWNlJ3Mgd1hUWiBPdmVuXSAtLi4tPiB8XCIlb25PdmVuU2V0RGVsZWdhdGUoKSA8YnIvPlwifCBDT1JFW3dYVFogQ29yZV1cblxuICAgIEFMSUNFW0FsaWNlXSA9PT4gfFwiJXRyYW5zZmVyKClcInwgVFpJUDdbXCJ3WFRaIFRaSVAtNyA8YnIvPiAodG9rZW4gY29udHJhY3QpXCJdXG5cbiAgICAlJSBBZG1pbiB1cGRhdGVzIGxhbWJkYXNcbiAgICBBRE1JTltBZG1pbl0gPT0-IHxcIiV1cGRhdGVMYW1iZGFzKClcInwgQ09SRVt3WFRaIENvcmVdIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQiLCJ0aGVtZVZhcmlhYmxlcyI6eyJiYWNrZ3JvdW5kIjoid2hpdGUiLCJwcmltYXJ5Q29sb3IiOiIjRUNFQ0ZGIiwic2Vjb25kYXJ5Q29sb3IiOiIjZmZmZmRlIiwidGVydGlhcnlDb2xvciI6ImhzbCg4MCwgMTAwJSwgOTYuMjc0NTA5ODAzOSUpIiwicHJpbWFyeUJvcmRlckNvbG9yIjoiaHNsKDI0MCwgNjAlLCA4Ni4yNzQ1MDk4MDM5JSkiLCJzZWNvbmRhcnlCb3JkZXJDb2xvciI6ImhzbCg2MCwgNjAlLCA4My41Mjk0MTE3NjQ3JSkiLCJ0ZXJ0aWFyeUJvcmRlckNvbG9yIjoiaHNsKDgwLCA2MCUsIDg2LjI3NDUwOTgwMzklKSIsInByaW1hcnlUZXh0Q29sb3IiOiIjMTMxMzAwIiwic2Vjb25kYXJ5VGV4dENvbG9yIjoiIzAwMDAyMSIsInRlcnRpYXJ5VGV4dENvbG9yIjoicmdiKDkuNTAwMDAwMDAwMSwgOS41MDAwMDAwMDAxLCA5LjUwMDAwMDAwMDEpIiwibGluZUNvbG9yIjoiIzMzMzMzMyIsInRleHRDb2xvciI6IiMzMzMiLCJtYWluQmtnIjoiI0VDRUNGRiIsInNlY29uZEJrZyI6IiNmZmZmZGUiLCJib3JkZXIxIjoiIzkzNzBEQiIsImJvcmRlcjIiOiIjYWFhYTMzIiwiYXJyb3doZWFkQ29sb3IiOiIjMzMzMzMzIiwiZm9udEZhbWlseSI6IlwidHJlYnVjaGV0IG1zXCIsIHZlcmRhbmEsIGFyaWFsIiwiZm9udFNpemUiOiIxNnB4IiwibGFiZWxCYWNrZ3JvdW5kIjoiI2U4ZThlOCIsIm5vZGVCa2ciOiIjRUNFQ0ZGIiwibm9kZUJvcmRlciI6IiM5MzcwREIiLCJjbHVzdGVyQmtnIjoiI2ZmZmZkZSIsImNsdXN0ZXJCb3JkZXIiOiIjYWFhYTMzIiwiZGVmYXVsdExpbmtDb2xvciI6IiMzMzMzMzMiLCJ0aXRsZUNvbG9yIjoiIzMzMyIsImVkZ2VMYWJlbEJhY2tncm91bmQiOiIjZThlOGU4IiwiYWN0b3JCb3JkZXIiOiJoc2woMjU5LjYyNjE2ODIyNDMsIDU5Ljc3NjUzNjMxMjglLCA4Ny45MDE5NjA3ODQzJSkiLCJhY3RvckJrZyI6IiNFQ0VDRkYiLCJhY3RvclRleHRDb2xvciI6ImJsYWNrIiwiYWN0b3JMaW5lQ29sb3IiOiJncmV5Iiwic2lnbmFsQ29sb3IiOiIjMzMzIiwic2lnbmFsVGV4dENvbG9yIjoiIzMzMyIsImxhYmVsQm94QmtnQ29sb3IiOiIjRUNFQ0ZGIiwibGFiZWxCb3hCb3JkZXJDb2xvciI6ImhzbCgyNTkuNjI2MTY4MjI0MywgNTkuNzc2NTM2MzEyOCUsIDg3LjkwMTk2MDc4NDMlKSIsImxhYmVsVGV4dENvbG9yIjoiYmxhY2siLCJsb29wVGV4dENvbG9yIjoiYmxhY2siLCJub3RlQm9yZGVyQ29sb3IiOiIjYWFhYTMzIiwibm90ZUJrZ0NvbG9yIjoiI2ZmZjVhZCIsIm5vdGVUZXh0Q29sb3IiOiJibGFjayIsImFjdGl2YXRpb25Cb3JkZXJDb2xvciI6IiM2NjYiLCJhY3RpdmF0aW9uQmtnQ29sb3IiOiIjZjRmNGY0Iiwic2VxdWVuY2VOdW1iZXJDb2xvciI6IndoaXRlIiwic2VjdGlvbkJrZ0NvbG9yIjoicmdiYSgxMDIsIDEwMiwgMjU1LCAwLjQ5KSIsImFsdFNlY3Rpb25Ca2dDb2xvciI6IndoaXRlIiwic2VjdGlvbkJrZ0NvbG9yMiI6IiNmZmY0MDAiLCJ0YXNrQm9yZGVyQ29sb3IiOiIjNTM0ZmJjIiwidGFza0JrZ0NvbG9yIjoiIzhhOTBkZCIsInRhc2tUZXh0TGlnaHRDb2xvciI6IndoaXRlIiwidGFza1RleHRDb2xvciI6IndoaXRlIiwidGFza1RleHREYXJrQ29sb3IiOiJibGFjayIsInRhc2tUZXh0T3V0c2lkZUNvbG9yIjoiYmxhY2siLCJ0YXNrVGV4dENsaWNrYWJsZUNvbG9yIjoiIzAwMzE2MyIsImFjdGl2ZVRhc2tCb3JkZXJDb2xvciI6IiM1MzRmYmMiLCJhY3RpdmVUYXNrQmtnQ29sb3IiOiIjYmZjN2ZmIiwiZ3JpZENvbG9yIjoibGlnaHRncmV5IiwiZG9uZVRhc2tCa2dDb2xvciI6ImxpZ2h0Z3JleSIsImRvbmVUYXNrQm9yZGVyQ29sb3IiOiJncmV5IiwiY3JpdEJvcmRlckNvbG9yIjoiI2ZmODg4OCIsImNyaXRCa2dDb2xvciI6InJlZCIsInRvZGF5TGluZUNvbG9yIjoicmVkIiwibGFiZWxDb2xvciI6ImJsYWNrIiwiZXJyb3JCa2dDb2xvciI6IiM1NTIyMjIiLCJlcnJvclRleHRDb2xvciI6IiM1NTIyMjIiLCJjbGFzc1RleHQiOiIjMTMxMzAwIiwiZmlsbFR5cGUwIjoiI0VDRUNGRiIsImZpbGxUeXBlMSI6IiNmZmZmZGUiLCJmaWxsVHlwZTIiOiJoc2woMzA0LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTMiOiJoc2woMTI0LCAxMDAlLCA5My41Mjk0MTE3NjQ3JSkiLCJmaWxsVHlwZTQiOiJoc2woMTc2LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTUiOiJoc2woLTQsIDEwMCUsIDkzLjUyOTQxMTc2NDclKSIsImZpbGxUeXBlNiI6ImhzbCg4LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTciOiJoc2woMTg4LCAxMDAlLCA5My41Mjk0MTE3NjQ3JSkifX0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggTFJcblxuICAgICUlIEFsaWNlIGNyZWF0ZXMgYW4gb3ZlblxuICAgIEFMSUNFW0FsaWNlXSA9PT4gfFwiJWNyZWF0ZU92ZW5cInwgQ09SRXt7d1hUWiBDb3JlfX1cbiAgICBDT1JFW3dYVFogQ29yZV0gLS4tPiB8XCJvcmlnaW5hdGVcIiB8IE9WRU5bQWxpY2UncyB3WFRaIE92ZW5dXG4gICAgQ09SRVt3WFRaIENvcmVdIC0uLi4tPiB8XCIlbWludFwifCBUWklQN1tcIndYVFogVFpJUC03IDxici8-ICh0b2tlbiBjb250cmFjdClcIl1cblxuICAgICUlIERlbGVnYXRpb24gcmV3YXJkcyBwYXlvdXRcbiAgICBERUxFR0FURVtEZWxlZ2F0ZV0gPT09PT4gfFwiJWRlZmF1bHRcInwgT1ZFTltBbGljZSdzIHdYVFogT3Zlbl1cbiAgICBPVkVOW0FsaWNlJ3Mgd1hUWiBPdmVuXSAtLi4tPiB8XCIlb25PdmVuRGVwb3NpdFJlY2VpdmVkIDxici8-XCJ8IENPUkVbd1hUWiBDb3JlXVxuICAgICUlIENPUkVbd1hUWiBDb3JlXSAtLi4uLT4gfFwiJW1pbnRcInwgVFpJUDdbXCJ3WFRaIFRaSVAtNyA8YnIvPiAodG9rZW4gY29udHJhY3QpXCJdXG4gICAgQ09SRVt3WFRaIENvcmVdIC0uLT4gfFwiJWRlZmF1bHRcInwgT1ZFTltBbGljZSdzIHdYVFogT3Zlbl1cblxuICAgICUlIEFsaWNlIHdpdGhkcmF3cyBmcm9tIGFuIG92ZW5cbiAgICBBTElDRVtBbGljZV0gPT0-IHxcIiV3aXRoZHJhd1wifCBPVkVOW0FsaWNlJ3Mgd1hUWiBPdmVuXVxuICAgIE9WRU5bQWxpY2UncyB3WFRaIE92ZW5dIC0uLi0-IHxcIiVvbk92ZW5XaXRoZHJhd2FsUmVxdWVzdGVkIDxici8-XCJ8IENPUkVbd1hUWiBDb3JlXVxuICAgIENPUkVbd1hUWiBDb3JlXSAtLi4uLT4gfFwiJWJ1cm5cInwgVFpJUDdbXCJ3WFRaIFRaSVAtNyA8YnIvPiAodG9rZW4gY29udHJhY3QpXCJdXG4gICAgT1ZFTltBbGljZSdzIHdYVFogT3Zlbl0gLS4tPiB8XCIlZGVmYXVsdFwifCBBTElDRVtBbGljZV1cblxuICAgICUlIEFsaWNlIHVwZGF0ZXMgdGhlIG92ZW4gZGVsZWdhdGVcbiAgICBBTElDRVtBbGljZV0gPT0-IHxcIiVzZXREZWxlZ2F0ZShkZWxlZ2F0ZSlcInwgT1ZFTltBbGljZSdzIHdYVFogT3Zlbl1cbiAgICBPVkVOW0FsaWNlJ3Mgd1hUWiBPdmVuXSAtLi4tPiB8XCIlb25PdmVuU2V0RGVsZWdhdGUoKSA8YnIvPlwifCBDT1JFW3dYVFogQ29yZV1cblxuICAgIEFMSUNFW0FsaWNlXSA9PT4gfFwiJXRyYW5zZmVyKClcInwgVFpJUDdbXCJ3WFRaIFRaSVAtNyA8YnIvPiAodG9rZW4gY29udHJhY3QpXCJdXG5cbiAgICAlJSBBZG1pbiB1cGRhdGVzIGxhbWJkYXNcbiAgICBBRE1JTltBZG1pbl0gPT0-IHxcIiV1cGRhdGVMYW1iZGFzKClcInwgQ09SRVt3WFRaIENvcmVdIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQiLCJ0aGVtZVZhcmlhYmxlcyI6eyJiYWNrZ3JvdW5kIjoid2hpdGUiLCJwcmltYXJ5Q29sb3IiOiIjRUNFQ0ZGIiwic2Vjb25kYXJ5Q29sb3IiOiIjZmZmZmRlIiwidGVydGlhcnlDb2xvciI6ImhzbCg4MCwgMTAwJSwgOTYuMjc0NTA5ODAzOSUpIiwicHJpbWFyeUJvcmRlckNvbG9yIjoiaHNsKDI0MCwgNjAlLCA4Ni4yNzQ1MDk4MDM5JSkiLCJzZWNvbmRhcnlCb3JkZXJDb2xvciI6ImhzbCg2MCwgNjAlLCA4My41Mjk0MTE3NjQ3JSkiLCJ0ZXJ0aWFyeUJvcmRlckNvbG9yIjoiaHNsKDgwLCA2MCUsIDg2LjI3NDUwOTgwMzklKSIsInByaW1hcnlUZXh0Q29sb3IiOiIjMTMxMzAwIiwic2Vjb25kYXJ5VGV4dENvbG9yIjoiIzAwMDAyMSIsInRlcnRpYXJ5VGV4dENvbG9yIjoicmdiKDkuNTAwMDAwMDAwMSwgOS41MDAwMDAwMDAxLCA5LjUwMDAwMDAwMDEpIiwibGluZUNvbG9yIjoiIzMzMzMzMyIsInRleHRDb2xvciI6IiMzMzMiLCJtYWluQmtnIjoiI0VDRUNGRiIsInNlY29uZEJrZyI6IiNmZmZmZGUiLCJib3JkZXIxIjoiIzkzNzBEQiIsImJvcmRlcjIiOiIjYWFhYTMzIiwiYXJyb3doZWFkQ29sb3IiOiIjMzMzMzMzIiwiZm9udEZhbWlseSI6IlwidHJlYnVjaGV0IG1zXCIsIHZlcmRhbmEsIGFyaWFsIiwiZm9udFNpemUiOiIxNnB4IiwibGFiZWxCYWNrZ3JvdW5kIjoiI2U4ZThlOCIsIm5vZGVCa2ciOiIjRUNFQ0ZGIiwibm9kZUJvcmRlciI6IiM5MzcwREIiLCJjbHVzdGVyQmtnIjoiI2ZmZmZkZSIsImNsdXN0ZXJCb3JkZXIiOiIjYWFhYTMzIiwiZGVmYXVsdExpbmtDb2xvciI6IiMzMzMzMzMiLCJ0aXRsZUNvbG9yIjoiIzMzMyIsImVkZ2VMYWJlbEJhY2tncm91bmQiOiIjZThlOGU4IiwiYWN0b3JCb3JkZXIiOiJoc2woMjU5LjYyNjE2ODIyNDMsIDU5Ljc3NjUzNjMxMjglLCA4Ny45MDE5NjA3ODQzJSkiLCJhY3RvckJrZyI6IiNFQ0VDRkYiLCJhY3RvclRleHRDb2xvciI6ImJsYWNrIiwiYWN0b3JMaW5lQ29sb3IiOiJncmV5Iiwic2lnbmFsQ29sb3IiOiIjMzMzIiwic2lnbmFsVGV4dENvbG9yIjoiIzMzMyIsImxhYmVsQm94QmtnQ29sb3IiOiIjRUNFQ0ZGIiwibGFiZWxCb3hCb3JkZXJDb2xvciI6ImhzbCgyNTkuNjI2MTY4MjI0MywgNTkuNzc2NTM2MzEyOCUsIDg3LjkwMTk2MDc4NDMlKSIsImxhYmVsVGV4dENvbG9yIjoiYmxhY2siLCJsb29wVGV4dENvbG9yIjoiYmxhY2siLCJub3RlQm9yZGVyQ29sb3IiOiIjYWFhYTMzIiwibm90ZUJrZ0NvbG9yIjoiI2ZmZjVhZCIsIm5vdGVUZXh0Q29sb3IiOiJibGFjayIsImFjdGl2YXRpb25Cb3JkZXJDb2xvciI6IiM2NjYiLCJhY3RpdmF0aW9uQmtnQ29sb3IiOiIjZjRmNGY0Iiwic2VxdWVuY2VOdW1iZXJDb2xvciI6IndoaXRlIiwic2VjdGlvbkJrZ0NvbG9yIjoicmdiYSgxMDIsIDEwMiwgMjU1LCAwLjQ5KSIsImFsdFNlY3Rpb25Ca2dDb2xvciI6IndoaXRlIiwic2VjdGlvbkJrZ0NvbG9yMiI6IiNmZmY0MDAiLCJ0YXNrQm9yZGVyQ29sb3IiOiIjNTM0ZmJjIiwidGFza0JrZ0NvbG9yIjoiIzhhOTBkZCIsInRhc2tUZXh0TGlnaHRDb2xvciI6IndoaXRlIiwidGFza1RleHRDb2xvciI6IndoaXRlIiwidGFza1RleHREYXJrQ29sb3IiOiJibGFjayIsInRhc2tUZXh0T3V0c2lkZUNvbG9yIjoiYmxhY2siLCJ0YXNrVGV4dENsaWNrYWJsZUNvbG9yIjoiIzAwMzE2MyIsImFjdGl2ZVRhc2tCb3JkZXJDb2xvciI6IiM1MzRmYmMiLCJhY3RpdmVUYXNrQmtnQ29sb3IiOiIjYmZjN2ZmIiwiZ3JpZENvbG9yIjoibGlnaHRncmV5IiwiZG9uZVRhc2tCa2dDb2xvciI6ImxpZ2h0Z3JleSIsImRvbmVUYXNrQm9yZGVyQ29sb3IiOiJncmV5IiwiY3JpdEJvcmRlckNvbG9yIjoiI2ZmODg4OCIsImNyaXRCa2dDb2xvciI6InJlZCIsInRvZGF5TGluZUNvbG9yIjoicmVkIiwibGFiZWxDb2xvciI6ImJsYWNrIiwiZXJyb3JCa2dDb2xvciI6IiM1NTIyMjIiLCJlcnJvclRleHRDb2xvciI6IiM1NTIyMjIiLCJjbGFzc1RleHQiOiIjMTMxMzAwIiwiZmlsbFR5cGUwIjoiI0VDRUNGRiIsImZpbGxUeXBlMSI6IiNmZmZmZGUiLCJmaWxsVHlwZTIiOiJoc2woMzA0LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTMiOiJoc2woMTI0LCAxMDAlLCA5My41Mjk0MTE3NjQ3JSkiLCJmaWxsVHlwZTQiOiJoc2woMTc2LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTUiOiJoc2woLTQsIDEwMCUsIDkzLjUyOTQxMTc2NDclKSIsImZpbGxUeXBlNiI6ImhzbCg4LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTciOiJoc2woMTg4LCAxMDAlLCA5My41Mjk0MTE3NjQ3JSkifX0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)
<p style="text-align:center;"><small><i>Click on the graph to view a larger version of it.</i></small></p>



